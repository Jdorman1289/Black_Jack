################################### Custom classes #####################################
<MImage@MagicBehavior+Image>


################################### All Windows #####################################

WindowManager:
    SplashWindow:
    GameScreen:
        NavBar:


################################### Splash Screen #####################################
<SplashWindow>
    name: "splash_window"

    MDBoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'bg_classes.jpg'
        
       
        	
        MDGridLayout:
        	cols: 3
        	
        	Label:
            Label:        		
        	Label:      		        		
        	Label:

            MDRaisedButton:
                id: start_game
                text: "Play Game"
                on_release: 
                    app.root.current = "game_screen" 
                    root.manager.transition.direction = "up"

                        
            MDRaisedButton:
                id: exit_button
                text: "Exit Game"
                on_release: root.close()
            
            Label:
            Label:
            Label:
            Label:
            Label:
            Label:
  


################################### Main Game Screen #####################################

<GameScreen>
    name: "game_screen"
    
    MDBoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        canvas.before:
            Color:
            	rgb: (.2078, .3961, .302)
            Rectangle:
                pos: self.pos
                size: self.size


        MDTopAppBar:
            title: "BlackJack"
            pos_hint: {'top': 1}
            left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]



        ScrollView:
            do_scroll_y: False

            MDBoxLayout:
                orientation: "horizontal"
                size_hint_x: None
                width: self.minimum_width
                size_hint_y: None
                height: self.minimum_height
           
                MImage:
                    id: dealer_card_down
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    magic_speed: 1
                    height: '0dp'
                    source: ""

                MImage:
                    id: dealer_card_two
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""

                MImage:
                    id: dealer_card_three
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""
                MImage:
                    id: dealer_card_four
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""
                MImage:
                    id: dealer_card_five
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""
                MImage:
                    id: dealer_card_six
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""


            
        ScrollView:
            do_scroll_y: False

            MDBoxLayout:
                orientation: "horizontal"
                size_hint_x: None
                width: self.minimum_width
                size_hint_y: None
                height: self.minimum_height
                
                MImage:
                    id: card_one
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""

                MImage:
                    id: card_two
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""

                MImage:
                    id: card_three
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""

                MImage:
                    id: card_four
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""

                MImage:
                    id: card_five
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""

                MImage:
                    id: card_six
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    width: 280
                    height: '0dp'
                    source: ""
        
        MDBoxLayout:
            orientation: "horizontal"


            MDRaisedButton:
                id: deal_button
                text: "Deal"
                disabled: False
                on_release: root.deal_cards()

                    
            MDRaisedButton:
                id: hit_button
                text: "Hit"
                disabled: True
                on_release: root.hit()
            
            MDRaisedButton:
                id: stay_button
                text: "Stay"
                disabled: True
                on_release: root.stay()
            
            MDLabel:
                id: prompt
                halign: "center"
                text: ""
                size_hint_y: None
                text_size: self.width, None
                height: self.texture_size[1]
    
    MDNavigationDrawer:
        id: nav_drawer

        orientation: "vertical"
        
        MDList:
        	TwoLineListItem:
        		text: "Black Jack"
        		secondary_text: "A simple card game"
        	
        	
        
        MDScrollView:
            
            MDList:
                
                OneLineIconListItem:
                	
                	text: "About"
  
                    IconLeftWidget:
                        icon: "information"
                        on_release: root.show_about()
                        
                OneLineIconListItem:
                    text: "Say thanks"
                
                    IconLeftWidget:
                        icon: "cards-heart"
                        on_release: root.donate_button()
                        
                
                OneLineIconListItem:
                    text: "Close Game"
               
                    IconLeftWidget:
                        icon: "logout"
               
                        on_release: 
                            root.close_two()
